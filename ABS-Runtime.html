<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>ABS.Runtime</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_ABS-Runtime.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/ABS-Runtime.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">habs-runtime-0.0.2: The runtime of the Haskell-ABS (habs) backend as a library</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell98</td></tr></table><p class="caption">ABS.Runtime</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Creating new objects</a></li><li><a href="#g:2">Synchronous method calling</a></li><li><a href="#g:3">Asynchronous method calling</a></li><li><a href="#g:4">Cooperative yielding control</a></li><li><a href="#g:5">Awaiting on boolean conditions</a></li><li><a href="#g:6">Awaiting on futures</a></li><li><a href="#g:7">Blocking on futures</a></li><li><a href="#g:8">Primitives for Timed-ABS extension</a></li><li><a href="#g:9">Lifting ABS pure code to ABS object layer</a></li><li><a href="#g:10">ABS strictness</a></li><li><a href="#g:11">Other</a></li><li><a href="#g:12">I/O primitives of ABS to the terminal screen</a></li><li><a href="#g:13">ABS extension for exception support</a></li><li><a href="#g:14">ABS extension to support write-once promises </a></li></ul></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span> <a href="#t:Null-39-">Null'</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:ABS-39-">ABS'</a> = <a href="http://hackage.haskell.org/packages/archive/transformers/latest/doc/html/Control-Monad-Trans-Cont.html#t:ContT">ContT</a> () <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/System-IO.html#t:IO">IO</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:IORef-39-">IORef'</a> = <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-IORef.html#t:IORef">IORef</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:Fut">Fut</a> a = <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Control-Concurrent-MVar.html#t:MVar">MVar</a> a</li><li class="src short"><span class="keyword">data</span> <a href="#t:Cog">Cog</a> = <a href="#v:Cog">Cog</a> (<a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-IORef.html#t:IORef">IORef</a> <a href="ABS-Runtime.html#t:SleepTable">SleepTable</a>) (TQueue (<a href="ABS-Runtime.html#t:ABS-39-">ABS'</a> ()))</li><li class="src short"><span class="keyword">type</span> <a href="#t:SleepTable">SleepTable</a> = [(<a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/System-IO.html#t:IO">IO</a> <a href="ABS-StdLib.html#t:Bool">Bool</a>, <a href="ABS-Runtime.html#t:ABS-39-">ABS'</a> ())]</li><li class="src short"><span class="keyword">data</span> <a href="#t:Obj-39-">Obj'</a> contents = <a href="#v:Obj-39-">Obj'</a> (<a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-IORef.html#t:IORef">IORef</a> contents) !<a href="ABS-Runtime.html#t:Cog">Cog</a></li><li class="src short"><span class="keyword">class</span> <a href="#t:Sub-39-">Sub'</a> sub sup <span class="keyword">where</span><ul class="subs"></ul></li><li class="src short"><a href="#v:apiStore-39-">apiStore'</a> :: <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-IORef.html#t:IORef">IORef</a> (<a href="ABS-StdLib.html#t:Map">Map</a> <a href="ABS-StdLib.html#t:String">String</a> <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Dynamic.html#t:Dynamic">Dynamic</a>)</li><li class="src short"><a href="#v:new">new</a> :: (<a href="ABS-Runtime.html#t:Obj-39-">Obj'</a> a -&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/System-IO.html#t:IO">IO</a> ()) -&gt; a -&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/System-IO.html#t:IO">IO</a> (<a href="ABS-Runtime.html#t:Obj-39-">Obj'</a> a)</li><li class="src short"><a href="#v:newlocal-39-">newlocal'</a> :: <a href="ABS-Runtime.html#t:Obj-39-">Obj'</a> this -&gt; (<a href="ABS-Runtime.html#t:Obj-39-">Obj'</a> a -&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/System-IO.html#t:IO">IO</a> ()) -&gt; a -&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/System-IO.html#t:IO">IO</a> (<a href="ABS-Runtime.html#t:Obj-39-">Obj'</a> a)</li><li class="src short"><a href="#v:sync-39-">sync'</a> :: <a href="ABS-Runtime.html#t:Obj-39-">Obj'</a> this -&gt; <a href="ABS-Runtime.html#t:Obj-39-">Obj'</a> a -&gt; (<a href="ABS-Runtime.html#t:Obj-39-">Obj'</a> a -&gt; <a href="ABS-Runtime.html#t:ABS-39-">ABS'</a> r) -&gt; <a href="ABS-Runtime.html#t:ABS-39-">ABS'</a> r</li><li class="src short"><a href="#v:-60-..-62-">(&lt;..&gt;)</a> :: <a href="ABS-Runtime.html#t:Obj-39-">Obj'</a> a -&gt; (<a href="ABS-Runtime.html#t:Obj-39-">Obj'</a> a -&gt; <a href="ABS-Runtime.html#t:ABS-39-">ABS'</a> r) -&gt; <a href="ABS-Runtime.html#t:ABS-39-">ABS'</a> r</li><li class="src short"><a href="#v:-60--33--62-">(&lt;!&gt;)</a> :: <a href="ABS-Runtime.html#t:Obj-39-">Obj'</a> a -&gt; (<a href="ABS-Runtime.html#t:Obj-39-">Obj'</a> a -&gt; <a href="ABS-Runtime.html#t:ABS-39-">ABS'</a> b) -&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/System-IO.html#t:IO">IO</a> (<a href="ABS-Runtime.html#t:Fut">Fut</a> b)</li><li class="src short"><a href="#v:-60--33--33--62-">(&lt;!!&gt;)</a> :: <a href="ABS-Runtime.html#t:Obj-39-">Obj'</a> a -&gt; (<a href="ABS-Runtime.html#t:Obj-39-">Obj'</a> a -&gt; <a href="ABS-Runtime.html#t:ABS-39-">ABS'</a> b) -&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><a href="#v:awaitSugar-39-">awaitSugar'</a> :: <a href="ABS-Runtime.html#t:Obj-39-">Obj'</a> this -&gt; (b -&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/System-IO.html#t:IO">IO</a> ()) -&gt; <a href="ABS-Runtime.html#t:Obj-39-">Obj'</a> a -&gt; (<a href="ABS-Runtime.html#t:Obj-39-">Obj'</a> a -&gt; <a href="ABS-Runtime.html#t:ABS-39-">ABS'</a> b) -&gt; <a href="ABS-Runtime.html#t:ABS-39-">ABS'</a> ()</li><li class="src short"><a href="#v:awaitSugar-39--39-">awaitSugar''</a> :: <a href="ABS-Runtime.html#t:Obj-39-">Obj'</a> this -&gt; <a href="ABS-Runtime.html#t:Obj-39-">Obj'</a> a -&gt; (<a href="ABS-Runtime.html#t:Obj-39-">Obj'</a> a -&gt; <a href="ABS-Runtime.html#t:ABS-39-">ABS'</a> b) -&gt; <a href="ABS-Runtime.html#t:ABS-39-">ABS'</a> ()</li><li class="src short"><a href="#v:suspend">suspend</a> :: <a href="ABS-Runtime.html#t:Obj-39-">Obj'</a> this -&gt; <a href="ABS-Runtime.html#t:ABS-39-">ABS'</a> ()</li><li class="src short"><a href="#v:awaitBool-39-">awaitBool'</a> :: <a href="ABS-Runtime.html#t:Obj-39-">Obj'</a> thisContents -&gt; (thisContents -&gt; <a href="ABS-StdLib.html#t:Bool">Bool</a>) -&gt; <a href="ABS-Runtime.html#t:ABS-39-">ABS'</a> ()</li><li class="src short"><a href="#v:awaitFuture-39-">awaitFuture'</a> :: <a href="ABS-Runtime.html#t:Obj-39-">Obj'</a> this -&gt; <a href="ABS-Runtime.html#t:Fut">Fut</a> a -&gt; <a href="ABS-Runtime.html#t:ABS-39-">ABS'</a> ()</li><li class="src short"><a href="#v:awaitFutures-39-">awaitFutures'</a> :: <a href="ABS-Runtime.html#t:Obj-39-">Obj'</a> this -&gt; [<a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/System-IO.html#t:IO">IO</a> <a href="ABS-StdLib.html#t:Bool">Bool</a>] -&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/System-IO.html#t:IO">IO</a> a -&gt; <a href="ABS-Runtime.html#t:ABS-39-">ABS'</a> ()</li><li class="src short"><a href="#v:awaitFutureField-39-">awaitFutureField'</a> :: <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Typeable-Internal.html#t:Typeable">Typeable</a> a =&gt; <a href="ABS-Runtime.html#t:Obj-39-">Obj'</a> this -&gt; (([<a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Control-Concurrent.html#t:ThreadId">ThreadId</a>] -&gt; [<a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Control-Concurrent.html#t:ThreadId">ThreadId</a>]) -&gt; this -&gt; this) -&gt; <a href="ABS-Runtime.html#t:Fut">Fut</a> a -&gt; <a href="ABS-Runtime.html#t:ABS-39-">ABS'</a> ()</li><li class="src short"><span class="keyword">data</span> <a href="#t:ChangedFuture-39-">ChangedFuture'</a> a = <a href="#v:ChangedFuture-39-">ChangedFuture'</a> (<a href="ABS-Runtime.html#t:Fut">Fut</a> a)</li><li class="src short"><a href="#v:get">get</a> :: <a href="ABS-Runtime.html#t:Fut">Fut</a> b -&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/System-IO.html#t:IO">IO</a> b</li><li class="src short"><a href="#v:currentms">currentms</a> :: <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/System-IO.html#t:IO">IO</a> (<a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Ratio.html#t:Ratio">Ratio</a> <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Int.html#t:Int">Int</a>)</li><li class="src short"><a href="#v:now">now</a> :: <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/System-IO.html#t:IO">IO</a> TimeSpec</li><li class="src short"><a href="#v:duration">duration</a> :: <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Ratio.html#t:Ratio">Ratio</a> <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Int.html#t:Int">Int</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Ratio.html#t:Ratio">Ratio</a> <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Int.html#t:Int">Int</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><a href="#v:awaitDuration-39-">awaitDuration'</a> :: <a href="ABS-Runtime.html#t:Obj-39-">Obj'</a> this -&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Ratio.html#t:Ratio">Ratio</a> <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Int.html#t:Int">Int</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Ratio.html#t:Ratio">Ratio</a> <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Int.html#t:Int">Int</a> -&gt; <a href="ABS-Runtime.html#t:ABS-39-">ABS'</a> ()</li><li class="src short"><a href="#v:return">return</a> :: <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Control-Monad.html#t:Monad">Monad</a> m =&gt; <span class="keyword">forall</span> a. a -&gt; m a</li><li class="src short"><a href="#v:-60--36--33--62-">(&lt;$!&gt;)</a> :: <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Control-Monad.html#t:Monad">Monad</a> m =&gt; (a -&gt; b) -&gt; m a -&gt; m b</li><li class="src short"><a href="#v:skip">skip</a> :: <a href="ABS-Runtime.html#t:ABS-39-">ABS'</a> ()</li><li class="src short"><a href="#v:while">while</a> :: <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/System-IO.html#t:IO">IO</a> <a href="ABS-StdLib.html#t:Bool">Bool</a> -&gt; <a href="ABS-Runtime.html#t:ABS-39-">ABS'</a> () -&gt; <a href="ABS-Runtime.html#t:ABS-39-">ABS'</a> ()</li><li class="src short"><a href="#v:while-39-">while'</a> :: <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/System-IO.html#t:IO">IO</a> <a href="ABS-StdLib.html#t:Bool">Bool</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/System-IO.html#t:IO">IO</a> () -&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><a href="#v:random">random</a> :: <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Int.html#t:Int">Int</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/System-IO.html#t:IO">IO</a> <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Int.html#t:Int">Int</a></li><li class="src short"><a href="#v:main_is-39-">main_is'</a> :: (<a href="ABS-Runtime.html#t:Obj-39-">Obj'</a> contents -&gt; <a href="ABS-Runtime.html#t:ABS-39-">ABS'</a> ()) -&gt; ScottyM () -&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><a href="#v:null">null</a> :: <a href="ABS-Runtime.html#t:Obj-39-">Obj'</a> <a href="ABS-Runtime.html#t:Null-39-">Null'</a></li><li class="src short"><a href="#v:nullFuture-39-">nullFuture'</a> :: <a href="ABS-Runtime.html#t:Fut">Fut</a> a</li><li class="src short"><a href="#v:print">print</a> :: <a href="ABS-StdLib.html#t:String">String</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><a href="#v:println">println</a> :: <a href="ABS-StdLib.html#t:String">String</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><a href="#v:readln">readln</a> :: <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/System-IO.html#t:IO">IO</a> <a href="ABS-StdLib.html#t:String">String</a></li><li class="src short"><a href="#v:throw">throw</a> :: (MonadThrow m, <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Control-Exception-Base.html#t:Exception">Exception</a> e) =&gt; e -&gt; m a</li><li class="src short"><a href="#v:catch">catch</a> :: MonadCatch m =&gt; m a -&gt; [<a href="ABS-Runtime.html#t:Handler-39-">Handler'</a> m a] -&gt; m a</li><li class="src short"><span class="keyword">data</span> <a href="#t:Handler-39-">Handler'</a> m a = <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Control-Exception-Base.html#t:Exception">Exception</a> e =&gt; <a href="#v:Handler-39-">Handler'</a> (e -&gt; <a href="ABS-StdLib.html#t:Maybe">Maybe</a> (m a))</li><li class="src short"><a href="#v:finally">finally</a> :: MonadCatch m =&gt; m () -&gt; m () -&gt; m ()</li><li class="src short"><span class="keyword">newtype</span> <a href="#t:PatternMatchFail">PatternMatchFail</a> :: <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Kind.html#t:-42-">*</a> = <a href="#v:PatternMatchFail">PatternMatchFail</a> <a href="ABS-StdLib.html#t:String">String</a></li><li class="src short"><span class="keyword">newtype</span> <a href="#t:RecSelError">RecSelError</a> :: <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Kind.html#t:-42-">*</a> = <a href="#v:RecSelError">RecSelError</a> <a href="ABS-StdLib.html#t:String">String</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:ArithException">ArithException</a> :: <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Kind.html#t:-42-">*</a> = <a href="#v:DivideByZero">DivideByZero</a></li><li class="src short"><span class="keyword">newtype</span> <a href="#t:AssertionFailed">AssertionFailed</a> :: <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Kind.html#t:-42-">*</a> = <a href="#v:AssertionFailed">AssertionFailed</a> <a href="ABS-StdLib.html#t:String">String</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:NullException">NullException</a> = <a href="#v:NullException">NullException</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:ABSException-39-">ABSException'</a> = <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Control-Exception-Base.html#t:Exception">Exception</a> e =&gt; <a href="#v:ABSException-39-">ABSException'</a> e</li><li class="src short"><a href="#v:absExceptionToException-39-">absExceptionToException'</a> :: <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Control-Exception-Base.html#t:Exception">Exception</a> e =&gt; e -&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Control-Exception-Base.html#t:SomeException">SomeException</a></li><li class="src short"><a href="#v:absExceptionFromException-39-">absExceptionFromException'</a> :: <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Control-Exception-Base.html#t:Exception">Exception</a> e =&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Control-Exception-Base.html#t:SomeException">SomeException</a> -&gt; <a href="ABS-StdLib.html#t:Maybe">Maybe</a> e</li><li class="src short"><a href="#v:pro_new">pro_new</a> :: <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/System-IO.html#t:IO">IO</a> (<a href="ABS-Runtime.html#t:Fut">Fut</a> a)</li><li class="src short"><a href="#v:pro_try">pro_try</a> :: <a href="ABS-Runtime.html#t:Fut">Fut</a> b -&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/System-IO.html#t:IO">IO</a> (<a href="ABS-StdLib.html#t:Maybe">Maybe</a> b)</li><li class="src short"><a href="#v:pro_give">pro_give</a> :: <a href="ABS-Runtime.html#t:Fut">Fut</a> b -&gt; b -&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><span class="keyword">data</span> <a href="#t:PromiseRewriteException">PromiseRewriteException</a> = <a href="#v:PromiseRewriteException">PromiseRewriteException</a></li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Null-39-" class="def">Null'</a> <a href="src/ABS-Runtime-Base.html#Null%27" class="link">Source</a> <a href="#t:Null-39-" class="selflink">#</a></p><div class="doc"><p>Uninhabited. It is used to initially-type the null static object and the this in (ABS' this) of main block.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:ABS-39-" class="def">ABS'</a> = <a href="http://hackage.haskell.org/packages/archive/transformers/latest/doc/html/Control-Monad-Trans-Cont.html#t:ContT">ContT</a> () <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/System-IO.html#t:IO">IO</a> <a href="src/ABS-Runtime-Base.html#ABS%27" class="link">Source</a> <a href="#t:ABS-39-" class="selflink">#</a></p><div class="doc"><p>Our ABS stateful code is actually an IO-enabled semi-coroutine.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:IORef-39-" class="def">IORef'</a> = <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-IORef.html#t:IORef">IORef</a> <a href="src/ABS-Runtime-Base.html#IORef%27" class="link">Source</a> <a href="#t:IORef-39-" class="selflink">#</a></p><div class="doc"><p>Local variables in stateful code are actually GHC's heap mutable references.</p><p>Note: this type synonym is redundant. It is only used for haddock documentation and not actual code-generation.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:Fut" class="def">Fut</a> a = <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Control-Concurrent-MVar.html#t:MVar">MVar</a> a <a href="src/ABS-Runtime-Base.html#Fut" class="link">Source</a> <a href="#t:Fut" class="selflink">#</a></p><div class="doc"><p>A future reference is a write-once locking var.</p><p>Write-once is not imposed by Haskell, but
 we assume our translation respects this</p><p>NB: we deviate from ABS by not providing ordering of future-refs</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Cog" class="def">Cog</a> <a href="src/ABS-Runtime-Base.html#Cog" class="link">Source</a> <a href="#t:Cog" class="selflink">#</a></p><div class="doc"><p>A COG reference is a mutex and a sleep table.</p><p>A process becomes active by acquiring&amp;holding the COG's lock.
 A process deactivates (by suspend,await) by releasing the lock.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Cog" class="def">Cog</a> (<a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-IORef.html#t:IORef">IORef</a> <a href="ABS-Runtime.html#t:SleepTable">SleepTable</a>) (TQueue (<a href="ABS-Runtime.html#t:ABS-39-">ABS'</a> ()))</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:SleepTable" class="def">SleepTable</a> = [(<a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/System-IO.html#t:IO">IO</a> <a href="ABS-StdLib.html#t:Bool">Bool</a>, <a href="ABS-Runtime.html#t:ABS-39-">ABS'</a> ())] <a href="src/ABS-Runtime-Base.html#SleepTable" class="link">Source</a> <a href="#t:SleepTable" class="selflink">#</a></p><div class="doc"><p>The sleep table is a naive assoc-list of boolean conditions to their suspend continuations.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Obj-39-" class="def">Obj'</a> contents <a href="src/ABS-Runtime-Base.html#Obj%27" class="link">Source</a> <a href="#t:Obj-39-" class="selflink">#</a></p><div class="doc"><p>an object reference is a pair of
 1) a reference to its cog
 2) its attributes placed in a mutable variable=IORef</p><p>NB: we deviate from ABS by not providing ordering of object-refs</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Obj-39-" class="def">Obj'</a> (<a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-IORef.html#t:IORef">IORef</a> contents) !<a href="ABS-Runtime.html#t:Cog">Cog</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:Sub-39-" class="def">Sub'</a> sub sup <span class="keyword">where</span> <a href="src/ABS-Runtime-Base.html#Sub%27" class="link">Source</a> <a href="#t:Sub-39-" class="selflink">#</a></p><div class="doc"><p>Subtyping-relation for ABS objects (as a multiparam typeclass).</p></div><div class="subs minimal"><p class="caption">Minimal complete definition</p><p class="src"><a href="ABS-Runtime.html#v:up-39-">up'</a></p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:up-39-" class="def">up'</a> :: sub -&gt; sup <a href="src/ABS-Runtime-Base.html#up%27" class="link">Source</a> <a href="#v:up-39-" class="selflink">#</a></p><div class="doc"><p>The upcasting method from a subtype to a supertype</p></div></div><div class="subs instances"><p id="control.i:Sub-39-" class="caption collapser" onclick="toggleSection('i:Sub-39-')">Instances</p><div id="section.i:Sub-39-" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:ic:Sub-39-:Sub-39-:1" class="instance expander" onclick="toggleSection('i:ic:Sub-39-:Sub-39-:1')"></span> <a href="ABS-Runtime.html#t:Sub-39-">Sub'</a> <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Int.html#t:Int">Int</a> (<a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Ratio.html#t:Ratio">Ratio</a> <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Int.html#t:Int">Int</a>)</span> <a href="src/ABS-Runtime-Base.html#line-70" class="link">Source</a> <a href="#t:Sub-39-" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:ic:Sub-39-:Sub-39-:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:up-39-">up'</a> :: <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Int.html#t:Int">Int</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Ratio.html#t:Ratio">Ratio</a> <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Int.html#t:Int">Int</a> <a href="src/ABS-Runtime-Base.html#up%27" class="link">Source</a> <a href="#v:up-39-" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><a id="v:apiStore-39-" class="def">apiStore'</a> :: <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-IORef.html#t:IORef">IORef</a> (<a href="ABS-StdLib.html#t:Map">Map</a> <a href="ABS-StdLib.html#t:String">String</a> <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Dynamic.html#t:Dynamic">Dynamic</a>) <a href="src/ABS-Runtime-Base.html#apiStore%27" class="link">Source</a> <a href="#v:apiStore-39-" class="selflink">#</a></p><div class="doc"><p>A dynamic key-value store that stores the HTTPCallable names of objects to their heap reference (IORef). </p><p>This technique effectively disables the garbage-collection for any of the exposed objects, since the reference
 is stored as a <code><a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Dynamic.html#t:Dynamic">Dynamic</a></code> and not as a weak pointer.</p></div></div><h1 id="g:1">Creating new objects</h1><div class="top"><p class="src"><a id="v:new" class="def">new</a> :: (<a href="ABS-Runtime.html#t:Obj-39-">Obj'</a> a -&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/System-IO.html#t:IO">IO</a> ()) -&gt; a -&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/System-IO.html#t:IO">IO</a> (<a href="ABS-Runtime.html#t:Obj-39-">Obj'</a> a) <a href="src/ABS-Runtime-Prim.html#new" class="link">Source</a> <a href="#v:new" class="selflink">#</a></p><div class="doc"><p>New object inside a newly-creted COG </p><p>unlifted to ABS' monad</p></div></div><div class="top"><p class="src"><a id="v:newlocal-39-" class="def">newlocal'</a> :: <a href="ABS-Runtime.html#t:Obj-39-">Obj'</a> this -&gt; (<a href="ABS-Runtime.html#t:Obj-39-">Obj'</a> a -&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/System-IO.html#t:IO">IO</a> ()) -&gt; a -&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/System-IO.html#t:IO">IO</a> (<a href="ABS-Runtime.html#t:Obj-39-">Obj'</a> a) <a href="src/ABS-Runtime-Prim.html#newlocal%27" class="link">Source</a> <a href="#v:newlocal-39-" class="selflink">#</a></p><div class="doc"><p>New object inside the currently-executing COG</p><p>unlifted to ABS' monad</p></div></div><h1 id="g:2">Synchronous method calling</h1><div class="top"><p class="src"><a id="v:sync-39-" class="def">sync'</a> :: <a href="ABS-Runtime.html#t:Obj-39-">Obj'</a> this -&gt; <a href="ABS-Runtime.html#t:Obj-39-">Obj'</a> a -&gt; (<a href="ABS-Runtime.html#t:Obj-39-">Obj'</a> a -&gt; <a href="ABS-Runtime.html#t:ABS-39-">ABS'</a> r) -&gt; <a href="ABS-Runtime.html#t:ABS-39-">ABS'</a> r <a href="src/ABS-Runtime-Prim.html#sync%27" class="link">Source</a> <a href="#v:sync-39-" class="selflink">#</a></p><div class="doc"><p>sync</p></div></div><div class="top"><p class="src"><a id="v:-60-..-62-" class="def">(&lt;..&gt;)</a> :: <a href="ABS-Runtime.html#t:Obj-39-">Obj'</a> a -&gt; (<a href="ABS-Runtime.html#t:Obj-39-">Obj'</a> a -&gt; <a href="ABS-Runtime.html#t:ABS-39-">ABS'</a> r) -&gt; <a href="ABS-Runtime.html#t:ABS-39-">ABS'</a> r <a href="src/ABS-Runtime-Prim.html#%3C..%3E" class="link">Source</a> <a href="#v:-60-..-62-" class="selflink">#</a></p><div class="doc"><p>optimized sync, by not running same-cog-check. Used only by the generation when stumbled on &quot;this.m()&quot;.</p></div></div><h1 id="g:3">Asynchronous method calling</h1><div class="top"><p class="src"><a id="v:-60--33--62-" class="def">(&lt;!&gt;)</a> :: <a href="ABS-Runtime.html#t:Obj-39-">Obj'</a> a -&gt; (<a href="ABS-Runtime.html#t:Obj-39-">Obj'</a> a -&gt; <a href="ABS-Runtime.html#t:ABS-39-">ABS'</a> b) -&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/System-IO.html#t:IO">IO</a> (<a href="ABS-Runtime.html#t:Fut">Fut</a> b) <a href="src/ABS-Runtime-Prim.html#%3C%21%3E" class="link">Source</a> <a href="#v:-60--33--62-" class="selflink">#</a></p><div class="doc"><p>async, unlifted</p></div></div><div class="top"><p class="src"><a id="v:-60--33--33--62-" class="def">(&lt;!!&gt;)</a> :: <a href="ABS-Runtime.html#t:Obj-39-">Obj'</a> a -&gt; (<a href="ABS-Runtime.html#t:Obj-39-">Obj'</a> a -&gt; <a href="ABS-Runtime.html#t:ABS-39-">ABS'</a> b) -&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/System-IO.html#t:IO">IO</a> () <a href="src/ABS-Runtime-Prim.html#%3C%21%21%3E" class="link">Source</a> <a href="#v:-60--33--33--62-" class="selflink">#</a></p><div class="doc"><p>fire&amp;forget async, unlifted</p></div></div><div class="top"><p class="src"><a id="v:awaitSugar-39-" class="def">awaitSugar'</a> <a href="src/ABS-Runtime-Prim.html#awaitSugar%27" class="link">Source</a> <a href="#v:awaitSugar-39-" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="ABS-Runtime.html#t:Obj-39-">Obj'</a> this</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; (b -&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/System-IO.html#t:IO">IO</a> ())</td><td class="doc"><p>LHS </p></td></tr><tr><td class="src">-&gt; <a href="ABS-Runtime.html#t:Obj-39-">Obj'</a> a</td><td class="doc"><p>callee</p></td></tr><tr><td class="src">-&gt; (<a href="ABS-Runtime.html#t:Obj-39-">Obj'</a> a -&gt; <a href="ABS-Runtime.html#t:ABS-39-">ABS'</a> b)</td><td class="doc"><p>method </p></td></tr><tr><td class="src">-&gt; <a href="ABS-Runtime.html#t:ABS-39-">ABS'</a> ()</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Specialized (optimized support) for A res = await o!m().</p><p>The implementors could instead use a non-specialized version which desugars to
 Fut<a href="A">A</a> f_fresh = o!m(); await f_fresh; A res = f_fresh.get;</p></div></div><div class="top"><p class="src"><a id="v:awaitSugar-39--39-" class="def">awaitSugar''</a> <a href="src/ABS-Runtime-Prim.html#awaitSugar%27%27" class="link">Source</a> <a href="#v:awaitSugar-39--39-" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="ABS-Runtime.html#t:Obj-39-">Obj'</a> this</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="ABS-Runtime.html#t:Obj-39-">Obj'</a> a</td><td class="doc"><p>callee</p></td></tr><tr><td class="src">-&gt; (<a href="ABS-Runtime.html#t:Obj-39-">Obj'</a> a -&gt; <a href="ABS-Runtime.html#t:ABS-39-">ABS'</a> b)</td><td class="doc"><p>method </p></td></tr><tr><td class="src">-&gt; <a href="ABS-Runtime.html#t:ABS-39-">ABS'</a> ()</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Similar to <code><a href="ABS-Runtime.html#v:awaitSugar-39-">awaitSugar'</a></code> but does not have a left-hand side, i.e. is of the form await o!m();. </p></div></div><h1 id="g:4">Cooperative yielding control</h1><div class="top"><p class="src"><a id="v:suspend" class="def">suspend</a> :: <a href="ABS-Runtime.html#t:Obj-39-">Obj'</a> this -&gt; <a href="ABS-Runtime.html#t:ABS-39-">ABS'</a> () <a href="src/ABS-Runtime-Prim.html#suspend" class="link">Source</a> <a href="#v:suspend" class="selflink">#</a></p><div class="doc"><p>Optimized suspend by avoiding capturing current-continuation if the method will be reactivated immediately:
 implemented by inlining back' function and using a custom TQueue that exposes the otherwise abstract datatype TQueue.</p></div></div><h1 id="g:5">Awaiting on boolean conditions</h1><div class="top"><p class="src"><a id="v:awaitBool-39-" class="def">awaitBool'</a> :: <a href="ABS-Runtime.html#t:Obj-39-">Obj'</a> thisContents -&gt; (thisContents -&gt; <a href="ABS-StdLib.html#t:Bool">Bool</a>) -&gt; <a href="ABS-Runtime.html#t:ABS-39-">ABS'</a> () <a href="src/ABS-Runtime-Prim.html#awaitBool%27" class="link">Source</a> <a href="#v:awaitBool-39-" class="selflink">#</a></p></div><h1 id="g:6">Awaiting on futures</h1><div class="top"><p class="src"><a id="v:awaitFuture-39-" class="def">awaitFuture'</a> :: <a href="ABS-Runtime.html#t:Obj-39-">Obj'</a> this -&gt; <a href="ABS-Runtime.html#t:Fut">Fut</a> a -&gt; <a href="ABS-Runtime.html#t:ABS-39-">ABS'</a> () <a href="src/ABS-Runtime-Prim.html#awaitFuture%27" class="link">Source</a> <a href="#v:awaitFuture-39-" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:awaitFutures-39-" class="def">awaitFutures'</a> :: <a href="ABS-Runtime.html#t:Obj-39-">Obj'</a> this -&gt; [<a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/System-IO.html#t:IO">IO</a> <a href="ABS-StdLib.html#t:Bool">Bool</a>] -&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/System-IO.html#t:IO">IO</a> a -&gt; <a href="ABS-Runtime.html#t:ABS-39-">ABS'</a> () <a href="src/ABS-Runtime-Prim.html#awaitFutures%27" class="link">Source</a> <a href="#v:awaitFutures-39-" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:awaitFutureField-39-" class="def">awaitFutureField'</a> :: <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Typeable-Internal.html#t:Typeable">Typeable</a> a =&gt; <a href="ABS-Runtime.html#t:Obj-39-">Obj'</a> this -&gt; (([<a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Control-Concurrent.html#t:ThreadId">ThreadId</a>] -&gt; [<a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Control-Concurrent.html#t:ThreadId">ThreadId</a>]) -&gt; this -&gt; this) -&gt; <a href="ABS-Runtime.html#t:Fut">Fut</a> a -&gt; <a href="ABS-Runtime.html#t:ABS-39-">ABS'</a> () <a href="src/ABS-Runtime-Prim.html#awaitFutureField%27" class="link">Source</a> <a href="#v:awaitFutureField-39-" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ChangedFuture-39-" class="def">ChangedFuture'</a> a <a href="src/ABS-Runtime-Prim.html#ChangedFuture%27" class="link">Source</a> <a href="#t:ChangedFuture-39-" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:ChangedFuture-39-" class="def">ChangedFuture'</a> (<a href="ABS-Runtime.html#t:Fut">Fut</a> a)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:ChangedFuture-39-" class="caption collapser" onclick="toggleSection('i:ChangedFuture-39-')">Instances</p><div id="section.i:ChangedFuture-39-" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:ChangedFuture-39-:Show:1" class="instance expander" onclick="toggleSection('i:id:ChangedFuture-39-:Show:1')"></span> <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Text-Show.html#t:Show">Show</a> (<a href="ABS-Runtime.html#t:ChangedFuture-39-">ChangedFuture'</a> a)</span> <a href="src/ABS-Runtime-Prim.html#line-230" class="link">Source</a> <a href="#t:ChangedFuture-39-" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:ChangedFuture-39-:Show:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Int.html#t:Int">Int</a> -&gt; <a href="ABS-Runtime.html#t:ChangedFuture-39-">ChangedFuture'</a> a -&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="ABS-Runtime.html#t:ChangedFuture-39-">ChangedFuture'</a> a -&gt; <a href="ABS-StdLib.html#t:String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="ABS-Runtime.html#t:ChangedFuture-39-">ChangedFuture'</a> a] -&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:ChangedFuture-39-:Exception:2" class="instance expander" onclick="toggleSection('i:id:ChangedFuture-39-:Exception:2')"></span> <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Typeable-Internal.html#t:Typeable">Typeable</a> <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Kind.html#t:-42-">*</a> a =&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Control-Exception-Base.html#t:Exception">Exception</a> (<a href="ABS-Runtime.html#t:ChangedFuture-39-">ChangedFuture'</a> a)</span> <a href="src/ABS-Runtime-Prim.html#line-231" class="link">Source</a> <a href="#t:ChangedFuture-39-" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:ChangedFuture-39-:Exception:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toException">toException</a> :: <a href="ABS-Runtime.html#t:ChangedFuture-39-">ChangedFuture'</a> a -&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Control-Exception-Base.html#t:SomeException">SomeException</a> <a href="#v:toException" class="selflink">#</a></p><p class="src"><a href="#v:fromException">fromException</a> :: <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Control-Exception-Base.html#t:SomeException">SomeException</a> -&gt; <a href="ABS-StdLib.html#t:Maybe">Maybe</a> (<a href="ABS-Runtime.html#t:ChangedFuture-39-">ChangedFuture'</a> a) <a href="#v:fromException" class="selflink">#</a></p><p class="src"><a href="#v:displayException">displayException</a> :: <a href="ABS-Runtime.html#t:ChangedFuture-39-">ChangedFuture'</a> a -&gt; <a href="ABS-StdLib.html#t:String">String</a> <a href="#v:displayException" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><h1 id="g:7">Blocking on futures</h1><div class="top"><p class="src"><a id="v:get" class="def">get</a> :: <a href="ABS-Runtime.html#t:Fut">Fut</a> b -&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/System-IO.html#t:IO">IO</a> b <a href="src/ABS-Runtime-Prim.html#get" class="link">Source</a> <a href="#v:get" class="selflink">#</a></p><div class="doc"><p>Block until the future has been resolved and try to extract the value.
 May re-raise the exception of the original failed future.
 unlifted to ABS' monad</p></div></div><h1 id="g:8">Primitives for Timed-ABS extension</h1><div class="doc"><p>(using a soft-realtime interpretation)</p></div><div class="top"><p class="src"><a id="v:currentms" class="def">currentms</a> :: <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/System-IO.html#t:IO">IO</a> (<a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Ratio.html#t:Ratio">Ratio</a> <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Int.html#t:Int">Int</a>) <a href="src/ABS-Runtime-Prim.html#currentms" class="link">Source</a> <a href="#v:currentms" class="selflink">#</a></p><div class="doc"><p>Not much used. Baggage from the standard ABS library (abslang.abs)</p></div></div><div class="top"><p class="src"><a id="v:now" class="def">now</a> :: <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/System-IO.html#t:IO">IO</a> TimeSpec <a href="src/ABS-Runtime-Prim.html#now" class="link">Source</a> <a href="#v:now" class="selflink">#</a></p><div class="doc"><p>Returns the current time of the real-time clock.</p></div></div><div class="top"><p class="src"><a id="v:duration" class="def">duration</a> :: <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Ratio.html#t:Ratio">Ratio</a> <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Int.html#t:Int">Int</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Ratio.html#t:Ratio">Ratio</a> <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Int.html#t:Int">Int</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/System-IO.html#t:IO">IO</a> () <a href="src/ABS-Runtime-Prim.html#duration" class="link">Source</a> <a href="#v:duration" class="selflink">#</a></p><div class="doc"><p>in seconds, ignores second argument tmax</p></div></div><div class="top"><p class="src"><a id="v:awaitDuration-39-" class="def">awaitDuration'</a> :: <a href="ABS-Runtime.html#t:Obj-39-">Obj'</a> this -&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Ratio.html#t:Ratio">Ratio</a> <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Int.html#t:Int">Int</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Ratio.html#t:Ratio">Ratio</a> <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Int.html#t:Int">Int</a> -&gt; <a href="ABS-Runtime.html#t:ABS-39-">ABS'</a> () <a href="src/ABS-Runtime-Prim.html#awaitDuration%27" class="link">Source</a> <a href="#v:awaitDuration-39-" class="selflink">#</a></p><div class="doc"><p>in seconds, ignores second argument tmax</p></div></div><h1 id="g:9">Lifting ABS pure code to ABS object layer</h1><div class="doc"><p>Haskell is pure by default. These are necessary functions for lifting pure ABS expressions (of the functional core) to the ABS' object layer (monadic statements).</p></div><div class="doc"><p>Haskell's return is an expression taking a pure value and lifting it to the monadic world.</p></div><div class="top"><p class="src"><a id="v:return" class="def">return</a> :: <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Control-Monad.html#t:Monad">Monad</a> m =&gt; <span class="keyword">forall</span> a. a -&gt; m a <a href="#v:return" class="selflink">#</a></p><div class="doc"><p>Inject a value into the monadic type.</p></div></div><h1 id="g:10">ABS strictness</h1><div class="doc"><p>Haskell is lazy be default. We use the HNF-strict version of <code><a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Functor.html#v:fmap">fmap</a></code> (<code><a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Functor.html#v:-60--36--62-">&lt;$&gt;</a></code>) to strictly pass the arguments to ABS methods and statements</p></div><div class="top"><p class="src"><a id="v:-60--36--33--62-" class="def">(&lt;$!&gt;)</a> :: <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Control-Monad.html#t:Monad">Monad</a> m =&gt; (a -&gt; b) -&gt; m a -&gt; m b <span class="fixity">infixl 4</span><span class="rightedge"></span> <a href="#v:-60--36--33--62-" class="selflink">#</a></p><div class="doc"><p>Strict version of <code><a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Functor.html#v:-60--36--62-">&lt;$&gt;</a></code>.</p><p><em>Since: 4.8.0.0</em></p></div></div><h1 id="g:11">Other</h1><div class="top"><p class="src"><a id="v:skip" class="def">skip</a> :: <a href="ABS-Runtime.html#t:ABS-39-">ABS'</a> () <a href="src/ABS-Runtime-Prim.html#skip" class="link">Source</a> <a href="#v:skip" class="selflink">#</a></p><div class="doc"><p>Only as a showcase. The translator does not translate but <strong>strips</strong> away skip statements.</p></div></div><div class="top"><p class="src"><a id="v:while" class="def">while</a> :: <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/System-IO.html#t:IO">IO</a> <a href="ABS-StdLib.html#t:Bool">Bool</a> -&gt; <a href="ABS-Runtime.html#t:ABS-39-">ABS'</a> () -&gt; <a href="ABS-Runtime.html#t:ABS-39-">ABS'</a> () <a href="src/ABS-Runtime-Prim.html#while" class="link">Source</a> <a href="#v:while" class="selflink">#</a></p><div class="doc"><p>The ABS controlow flow. Takes a <strong>mutable</strong> boolean condition that may contain fields (thus inside IO)
 and an ABS block to execute (repeatedly).</p></div></div><div class="top"><p class="src"><a id="v:while-39-" class="def">while'</a> :: <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/System-IO.html#t:IO">IO</a> <a href="ABS-StdLib.html#t:Bool">Bool</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/System-IO.html#t:IO">IO</a> () -&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/System-IO.html#t:IO">IO</a> () <a href="src/ABS-Runtime-Prim.html#while%27" class="link">Source</a> <a href="#v:while-39-" class="selflink">#</a></p><div class="doc"><p>Specialized version of <code><a href="ABS-Runtime.html#v:while">while</a></code> that is used only inside init blocks.</p><p>TODO: This version would be unnecessary if the <code><a href="ABS-Runtime.html#v:while">while</a></code> was abstracted over any (MonadIO a)</p></div></div><div class="top"><p class="src"><a id="v:random" class="def">random</a> :: <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Int.html#t:Int">Int</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/System-IO.html#t:IO">IO</a> <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Int.html#t:Int">Int</a> <a href="src/ABS-Runtime-Prim.html#random" class="link">Source</a> <a href="#v:random" class="selflink">#</a></p><div class="doc"><p>Note: this is multicore-safe (thread-safe) but not multicore-scalable, because it uses underneath atomicModifyIORef</p></div></div><div class="top"><p class="src"><a id="v:main_is-39-" class="def">main_is'</a> :: (<a href="ABS-Runtime.html#t:Obj-39-">Obj'</a> contents -&gt; <a href="ABS-Runtime.html#t:ABS-39-">ABS'</a> ()) -&gt; ScottyM () -&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/System-IO.html#t:IO">IO</a> () <a href="src/ABS-Runtime-Prim.html#main_is%27" class="link">Source</a> <a href="#v:main_is-39-" class="selflink">#</a></p><div class="doc"><p>This function takes an ABS'' main function in the module and executes the ABS' program.</p><p>Note the mainABS' function expects a this object as input. This is only for unifying the method-block generation;
 the code-generator will safely catch if a main contains calls to this. This runtime, however, does not do such checks;
 if the user passes a main that uses this, the program will err.</p></div></div><div class="top"><p class="src"><a id="v:null" class="def">null</a> :: <a href="ABS-Runtime.html#t:Obj-39-">Obj'</a> <a href="ABS-Runtime.html#t:Null-39-">Null'</a> <a href="src/ABS-Runtime-Prim.html#null" class="link">Source</a> <a href="#v:null" class="selflink">#</a></p><div class="doc"><p>A static heap representation of the null object.</p></div></div><div class="top"><p class="src"><a id="v:nullFuture-39-" class="def">nullFuture'</a> :: <a href="ABS-Runtime.html#t:Fut">Fut</a> a <a href="src/ABS-Runtime-Prim.html#nullFuture%27" class="link">Source</a> <a href="#v:nullFuture-39-" class="selflink">#</a></p><div class="doc"><p>The uninitialized future.</p><p>Calling Fut<a href="A">A</a> f; await f? will deadlock the current process.
 Calling Fut<a href="A">A</a> f; f.get; will deadlock the whole current-COG.</p></div></div><h1 id="g:12">I/O primitives of ABS to the terminal screen</h1><div class="top"><p class="src"><a id="v:print" class="def">print</a> :: <a href="ABS-StdLib.html#t:String">String</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/System-IO.html#t:IO">IO</a> () <a href="src/ABS-Runtime-Extension-IO.html#print" class="link">Source</a> <a href="#v:print" class="selflink">#</a></p><div class="doc"><p>Decided to be a statement and not a built-in function for keeping functions pure.</p></div></div><div class="top"><p class="src"><a id="v:println" class="def">println</a> :: <a href="ABS-StdLib.html#t:String">String</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/System-IO.html#t:IO">IO</a> () <a href="src/ABS-Runtime-Extension-IO.html#println" class="link">Source</a> <a href="#v:println" class="selflink">#</a></p><div class="doc"><p>Decided to be a statement and not a built-in function for keeping functions pure.</p></div></div><div class="top"><p class="src"><a id="v:readln" class="def">readln</a> :: <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/System-IO.html#t:IO">IO</a> <a href="ABS-StdLib.html#t:String">String</a> <a href="src/ABS-Runtime-Extension-IO.html#readln" class="link">Source</a> <a href="#v:readln" class="selflink">#</a></p><div class="doc"><p>Decided to be a statement and not a built-in function for keeping functions pure.</p></div></div><h1 id="g:13">ABS extension for exception support</h1><div class="top"><p class="src"><a id="v:throw" class="def">throw</a> :: (MonadThrow m, <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Control-Exception-Base.html#t:Exception">Exception</a> e) =&gt; e -&gt; m a <a href="src/ABS-Runtime-Extension-Exception.html#throw" class="link">Source</a> <a href="#v:throw" class="selflink">#</a></p><div class="doc"><p>Throws the given exception. Can be used unlike Haskell only in ABS stateful code.</p></div></div><div class="top"><p class="src"><a id="v:catch" class="def">catch</a> :: MonadCatch m =&gt; m a -&gt; [<a href="ABS-Runtime.html#t:Handler-39-">Handler'</a> m a] -&gt; m a <a href="src/ABS-Runtime-Extension-Exception.html#catch" class="link">Source</a> <a href="#v:catch" class="selflink">#</a></p><div class="doc"><p>Catches different sorts of exceptions. See <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Control-Exception.html">Control.Exception</a>'s <code><a href="ControlException.html#v:catches">catches</a></code></p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Handler-39-" class="def">Handler'</a> m a <a href="src/ABS-Runtime-Extension-Exception.html#Handler%27" class="link">Source</a> <a href="#t:Handler-39-" class="selflink">#</a></p><div class="doc"><p>different handler because we want maybe (for ABS exception pattern matching)</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Control-Exception-Base.html#t:Exception">Exception</a> e =&gt; <a id="v:Handler-39-" class="def">Handler'</a> (e -&gt; <a href="ABS-StdLib.html#t:Maybe">Maybe</a> (m a))</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><a id="v:finally" class="def">finally</a> :: MonadCatch m =&gt; m () -&gt; m () -&gt; m () <a href="src/ABS-Runtime-Extension-Exception.html#finally" class="link">Source</a> <a href="#v:finally" class="selflink">#</a></p><div class="doc"><p>Our ABS finally is different than default Haskell's, since we do not have async. exceptions, thus we do not need to mask</p></div></div><div class="doc"><p>Same exceptions as Haskell's, so import them rather than redefining.
 This has the benefit of catching exceptions from the FFI</p></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:PatternMatchFail" class="def">PatternMatchFail</a> :: <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Kind.html#t:-42-">*</a> <a href="#t:PatternMatchFail" class="selflink">#</a></p><div class="doc"><p>A pattern match failed. The <code>String</code> gives information about the
 source location of the pattern.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:PatternMatchFail" class="def">PatternMatchFail</a> <a href="ABS-StdLib.html#t:String">String</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:PatternMatchFail" class="caption collapser" onclick="toggleSection('i:PatternMatchFail')">Instances</p><div id="section.i:PatternMatchFail" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:PatternMatchFail:Show:1" class="instance expander" onclick="toggleSection('i:id:PatternMatchFail:Show:1')"></span> <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Text-Show.html#t:Show">Show</a> <a href="ABS-Runtime.html#t:PatternMatchFail">PatternMatchFail</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:PatternMatchFail:Show:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Int.html#t:Int">Int</a> -&gt; <a href="ABS-Runtime.html#t:PatternMatchFail">PatternMatchFail</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="ABS-Runtime.html#t:PatternMatchFail">PatternMatchFail</a> -&gt; <a href="ABS-StdLib.html#t:String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="ABS-Runtime.html#t:PatternMatchFail">PatternMatchFail</a>] -&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:PatternMatchFail:Exception:2" class="instance expander" onclick="toggleSection('i:id:PatternMatchFail:Exception:2')"></span> <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Control-Exception-Base.html#t:Exception">Exception</a> <a href="ABS-Runtime.html#t:PatternMatchFail">PatternMatchFail</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:PatternMatchFail:Exception:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toException">toException</a> :: <a href="ABS-Runtime.html#t:PatternMatchFail">PatternMatchFail</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Control-Exception-Base.html#t:SomeException">SomeException</a> <a href="#v:toException" class="selflink">#</a></p><p class="src"><a href="#v:fromException">fromException</a> :: <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Control-Exception-Base.html#t:SomeException">SomeException</a> -&gt; <a href="ABS-StdLib.html#t:Maybe">Maybe</a> <a href="ABS-Runtime.html#t:PatternMatchFail">PatternMatchFail</a> <a href="#v:fromException" class="selflink">#</a></p><p class="src"><a href="#v:displayException">displayException</a> :: <a href="ABS-Runtime.html#t:PatternMatchFail">PatternMatchFail</a> -&gt; <a href="ABS-StdLib.html#t:String">String</a> <a href="#v:displayException" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:RecSelError" class="def">RecSelError</a> :: <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Kind.html#t:-42-">*</a> <a href="#t:RecSelError" class="selflink">#</a></p><div class="doc"><p>A record selector was applied to a constructor without the
 appropriate field. This can only happen with a datatype with
 multiple constructors, where some fields are in one constructor
 but not another. The <code>String</code> gives information about the source
 location of the record selector.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:RecSelError" class="def">RecSelError</a> <a href="ABS-StdLib.html#t:String">String</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:RecSelError" class="caption collapser" onclick="toggleSection('i:RecSelError')">Instances</p><div id="section.i:RecSelError" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:RecSelError:Show:1" class="instance expander" onclick="toggleSection('i:id:RecSelError:Show:1')"></span> <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Text-Show.html#t:Show">Show</a> <a href="ABS-Runtime.html#t:RecSelError">RecSelError</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:RecSelError:Show:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Int.html#t:Int">Int</a> -&gt; <a href="ABS-Runtime.html#t:RecSelError">RecSelError</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="ABS-Runtime.html#t:RecSelError">RecSelError</a> -&gt; <a href="ABS-StdLib.html#t:String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="ABS-Runtime.html#t:RecSelError">RecSelError</a>] -&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:RecSelError:Exception:2" class="instance expander" onclick="toggleSection('i:id:RecSelError:Exception:2')"></span> <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Control-Exception-Base.html#t:Exception">Exception</a> <a href="ABS-Runtime.html#t:RecSelError">RecSelError</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:RecSelError:Exception:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toException">toException</a> :: <a href="ABS-Runtime.html#t:RecSelError">RecSelError</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Control-Exception-Base.html#t:SomeException">SomeException</a> <a href="#v:toException" class="selflink">#</a></p><p class="src"><a href="#v:fromException">fromException</a> :: <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Control-Exception-Base.html#t:SomeException">SomeException</a> -&gt; <a href="ABS-StdLib.html#t:Maybe">Maybe</a> <a href="ABS-Runtime.html#t:RecSelError">RecSelError</a> <a href="#v:fromException" class="selflink">#</a></p><p class="src"><a href="#v:displayException">displayException</a> :: <a href="ABS-Runtime.html#t:RecSelError">RecSelError</a> -&gt; <a href="ABS-StdLib.html#t:String">String</a> <a href="#v:displayException" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ArithException" class="def">ArithException</a> :: <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Kind.html#t:-42-">*</a> <a href="#t:ArithException" class="selflink">#</a></p><div class="doc"><p>Arithmetic exceptions.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:DivideByZero" class="def">DivideByZero</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:ArithException" class="caption collapser" onclick="toggleSection('i:ArithException')">Instances</p><div id="section.i:ArithException" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:ArithException:Eq:1" class="instance expander" onclick="toggleSection('i:id:ArithException:Eq:1')"></span> <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Eq.html#t:Eq">Eq</a> <a href="ABS-Runtime.html#t:ArithException">ArithException</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:ArithException:Eq:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="ABS-Runtime.html#t:ArithException">ArithException</a> -&gt; <a href="ABS-Runtime.html#t:ArithException">ArithException</a> -&gt; <a href="ABS-StdLib.html#t:Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="ABS-Runtime.html#t:ArithException">ArithException</a> -&gt; <a href="ABS-Runtime.html#t:ArithException">ArithException</a> -&gt; <a href="ABS-StdLib.html#t:Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:ArithException:Ord:2" class="instance expander" onclick="toggleSection('i:id:ArithException:Ord:2')"></span> <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Ord.html#t:Ord">Ord</a> <a href="ABS-Runtime.html#t:ArithException">ArithException</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:ArithException:Ord:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:compare">compare</a> :: <a href="ABS-Runtime.html#t:ArithException">ArithException</a> -&gt; <a href="ABS-Runtime.html#t:ArithException">ArithException</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Ord.html#t:Ordering">Ordering</a> <a href="#v:compare" class="selflink">#</a></p><p class="src"><a href="#v:-60-">(&lt;)</a> :: <a href="ABS-Runtime.html#t:ArithException">ArithException</a> -&gt; <a href="ABS-Runtime.html#t:ArithException">ArithException</a> -&gt; <a href="ABS-StdLib.html#t:Bool">Bool</a> <a href="#v:-60-" class="selflink">#</a></p><p class="src"><a href="#v:-60--61-">(&lt;=)</a> :: <a href="ABS-Runtime.html#t:ArithException">ArithException</a> -&gt; <a href="ABS-Runtime.html#t:ArithException">ArithException</a> -&gt; <a href="ABS-StdLib.html#t:Bool">Bool</a> <a href="#v:-60--61-" class="selflink">#</a></p><p class="src"><a href="#v:-62-">(&gt;)</a> :: <a href="ABS-Runtime.html#t:ArithException">ArithException</a> -&gt; <a href="ABS-Runtime.html#t:ArithException">ArithException</a> -&gt; <a href="ABS-StdLib.html#t:Bool">Bool</a> <a href="#v:-62-" class="selflink">#</a></p><p class="src"><a href="#v:-62--61-">(&gt;=)</a> :: <a href="ABS-Runtime.html#t:ArithException">ArithException</a> -&gt; <a href="ABS-Runtime.html#t:ArithException">ArithException</a> -&gt; <a href="ABS-StdLib.html#t:Bool">Bool</a> <a href="#v:-62--61-" class="selflink">#</a></p><p class="src"><a href="#v:max">max</a> :: <a href="ABS-Runtime.html#t:ArithException">ArithException</a> -&gt; <a href="ABS-Runtime.html#t:ArithException">ArithException</a> -&gt; <a href="ABS-Runtime.html#t:ArithException">ArithException</a> <a href="#v:max" class="selflink">#</a></p><p class="src"><a href="#v:min">min</a> :: <a href="ABS-Runtime.html#t:ArithException">ArithException</a> -&gt; <a href="ABS-Runtime.html#t:ArithException">ArithException</a> -&gt; <a href="ABS-Runtime.html#t:ArithException">ArithException</a> <a href="#v:min" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:ArithException:Show:3" class="instance expander" onclick="toggleSection('i:id:ArithException:Show:3')"></span> <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Text-Show.html#t:Show">Show</a> <a href="ABS-Runtime.html#t:ArithException">ArithException</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:ArithException:Show:3" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Int.html#t:Int">Int</a> -&gt; <a href="ABS-Runtime.html#t:ArithException">ArithException</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="ABS-Runtime.html#t:ArithException">ArithException</a> -&gt; <a href="ABS-StdLib.html#t:String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="ABS-Runtime.html#t:ArithException">ArithException</a>] -&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:ArithException:Exception:4" class="instance expander" onclick="toggleSection('i:id:ArithException:Exception:4')"></span> <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Control-Exception-Base.html#t:Exception">Exception</a> <a href="ABS-Runtime.html#t:ArithException">ArithException</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:ArithException:Exception:4" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toException">toException</a> :: <a href="ABS-Runtime.html#t:ArithException">ArithException</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Control-Exception-Base.html#t:SomeException">SomeException</a> <a href="#v:toException" class="selflink">#</a></p><p class="src"><a href="#v:fromException">fromException</a> :: <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Control-Exception-Base.html#t:SomeException">SomeException</a> -&gt; <a href="ABS-StdLib.html#t:Maybe">Maybe</a> <a href="ABS-Runtime.html#t:ArithException">ArithException</a> <a href="#v:fromException" class="selflink">#</a></p><p class="src"><a href="#v:displayException">displayException</a> :: <a href="ABS-Runtime.html#t:ArithException">ArithException</a> -&gt; <a href="ABS-StdLib.html#t:String">String</a> <a href="#v:displayException" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:AssertionFailed" class="def">AssertionFailed</a> :: <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Kind.html#t:-42-">*</a> <a href="#t:AssertionFailed" class="selflink">#</a></p><div class="doc"><p><code><a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Control-Exception-Base.html#v:assert">assert</a></code> was applied to <code><a href="ABS-StdLib.html#v:False">False</a></code>.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:AssertionFailed" class="def">AssertionFailed</a> <a href="ABS-StdLib.html#t:String">String</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:AssertionFailed" class="caption collapser" onclick="toggleSection('i:AssertionFailed')">Instances</p><div id="section.i:AssertionFailed" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:AssertionFailed:Show:1" class="instance expander" onclick="toggleSection('i:id:AssertionFailed:Show:1')"></span> <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Text-Show.html#t:Show">Show</a> <a href="ABS-Runtime.html#t:AssertionFailed">AssertionFailed</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:AssertionFailed:Show:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Int.html#t:Int">Int</a> -&gt; <a href="ABS-Runtime.html#t:AssertionFailed">AssertionFailed</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="ABS-Runtime.html#t:AssertionFailed">AssertionFailed</a> -&gt; <a href="ABS-StdLib.html#t:String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="ABS-Runtime.html#t:AssertionFailed">AssertionFailed</a>] -&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:AssertionFailed:Exception:2" class="instance expander" onclick="toggleSection('i:id:AssertionFailed:Exception:2')"></span> <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Control-Exception-Base.html#t:Exception">Exception</a> <a href="ABS-Runtime.html#t:AssertionFailed">AssertionFailed</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:AssertionFailed:Exception:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toException">toException</a> :: <a href="ABS-Runtime.html#t:AssertionFailed">AssertionFailed</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Control-Exception-Base.html#t:SomeException">SomeException</a> <a href="#v:toException" class="selflink">#</a></p><p class="src"><a href="#v:fromException">fromException</a> :: <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Control-Exception-Base.html#t:SomeException">SomeException</a> -&gt; <a href="ABS-StdLib.html#t:Maybe">Maybe</a> <a href="ABS-Runtime.html#t:AssertionFailed">AssertionFailed</a> <a href="#v:fromException" class="selflink">#</a></p><p class="src"><a href="#v:displayException">displayException</a> :: <a href="ABS-Runtime.html#t:AssertionFailed">AssertionFailed</a> -&gt; <a href="ABS-StdLib.html#t:String">String</a> <a href="#v:displayException" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="doc"><p>the ABS-specific builtin exceptions</p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:NullException" class="def">NullException</a> <a href="src/ABS-Runtime-Extension-Exception.html#NullException" class="link">Source</a> <a href="#t:NullException" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:NullException" class="def">NullException</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:NullException" class="caption collapser" onclick="toggleSection('i:NullException')">Instances</p><div id="section.i:NullException" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:NullException:Show:1" class="instance expander" onclick="toggleSection('i:id:NullException:Show:1')"></span> <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Text-Show.html#t:Show">Show</a> <a href="ABS-Runtime.html#t:NullException">NullException</a></span> <a href="src/ABS-Runtime-Extension-Exception.html#line-77" class="link">Source</a> <a href="#t:NullException" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:NullException:Show:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Int.html#t:Int">Int</a> -&gt; <a href="ABS-Runtime.html#t:NullException">NullException</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="ABS-Runtime.html#t:NullException">NullException</a> -&gt; <a href="ABS-StdLib.html#t:String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="ABS-Runtime.html#t:NullException">NullException</a>] -&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:NullException:Exception:2" class="instance expander" onclick="toggleSection('i:id:NullException:Exception:2')"></span> <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Control-Exception-Base.html#t:Exception">Exception</a> <a href="ABS-Runtime.html#t:NullException">NullException</a></span> <a href="src/ABS-Runtime-Extension-Exception.html#line-86" class="link">Source</a> <a href="#t:NullException" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:NullException:Exception:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toException">toException</a> :: <a href="ABS-Runtime.html#t:NullException">NullException</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Control-Exception-Base.html#t:SomeException">SomeException</a> <a href="#v:toException" class="selflink">#</a></p><p class="src"><a href="#v:fromException">fromException</a> :: <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Control-Exception-Base.html#t:SomeException">SomeException</a> -&gt; <a href="ABS-StdLib.html#t:Maybe">Maybe</a> <a href="ABS-Runtime.html#t:NullException">NullException</a> <a href="#v:fromException" class="selflink">#</a></p><p class="src"><a href="#v:displayException">displayException</a> :: <a href="ABS-Runtime.html#t:NullException">NullException</a> -&gt; <a href="ABS-StdLib.html#t:String">String</a> <a href="#v:displayException" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ABSException-39-" class="def">ABSException'</a> <a href="src/ABS-Runtime-Extension-Exception.html#ABSException%27" class="link">Source</a> <a href="#t:ABSException-39-" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Control-Exception-Base.html#t:Exception">Exception</a> e =&gt; <a id="v:ABSException-39-" class="def">ABSException'</a> e</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:ABSException-39-" class="caption collapser" onclick="toggleSection('i:ABSException-39-')">Instances</p><div id="section.i:ABSException-39-" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:ABSException-39-:Show:1" class="instance expander" onclick="toggleSection('i:id:ABSException-39-:Show:1')"></span> <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Text-Show.html#t:Show">Show</a> <a href="ABS-Runtime.html#t:ABSException-39-">ABSException'</a></span> <a href="src/ABS-Runtime-Extension-Exception.html#line-53" class="link">Source</a> <a href="#t:ABSException-39-" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:ABSException-39-:Show:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Int.html#t:Int">Int</a> -&gt; <a href="ABS-Runtime.html#t:ABSException-39-">ABSException'</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="ABS-Runtime.html#t:ABSException-39-">ABSException'</a> -&gt; <a href="ABS-StdLib.html#t:String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="ABS-Runtime.html#t:ABSException-39-">ABSException'</a>] -&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:ABSException-39-:Exception:2" class="instance expander" onclick="toggleSection('i:id:ABSException-39-:Exception:2')"></span> <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Control-Exception-Base.html#t:Exception">Exception</a> <a href="ABS-Runtime.html#t:ABSException-39-">ABSException'</a></span> <a href="src/ABS-Runtime-Extension-Exception.html#line-55" class="link">Source</a> <a href="#t:ABSException-39-" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:ABSException-39-:Exception:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toException">toException</a> :: <a href="ABS-Runtime.html#t:ABSException-39-">ABSException'</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Control-Exception-Base.html#t:SomeException">SomeException</a> <a href="#v:toException" class="selflink">#</a></p><p class="src"><a href="#v:fromException">fromException</a> :: <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Control-Exception-Base.html#t:SomeException">SomeException</a> -&gt; <a href="ABS-StdLib.html#t:Maybe">Maybe</a> <a href="ABS-Runtime.html#t:ABSException-39-">ABSException'</a> <a href="#v:fromException" class="selflink">#</a></p><p class="src"><a href="#v:displayException">displayException</a> :: <a href="ABS-Runtime.html#t:ABSException-39-">ABSException'</a> -&gt; <a href="ABS-StdLib.html#t:String">String</a> <a href="#v:displayException" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><a id="v:absExceptionToException-39-" class="def">absExceptionToException'</a> :: <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Control-Exception-Base.html#t:Exception">Exception</a> e =&gt; e -&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Control-Exception-Base.html#t:SomeException">SomeException</a> <a href="src/ABS-Runtime-Extension-Exception.html#absExceptionToException%27" class="link">Source</a> <a href="#v:absExceptionToException-39-" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:absExceptionFromException-39-" class="def">absExceptionFromException'</a> :: <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Control-Exception-Base.html#t:Exception">Exception</a> e =&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Control-Exception-Base.html#t:SomeException">SomeException</a> -&gt; <a href="ABS-StdLib.html#t:Maybe">Maybe</a> e <a href="src/ABS-Runtime-Extension-Exception.html#absExceptionFromException%27" class="link">Source</a> <a href="#v:absExceptionFromException-39-" class="selflink">#</a></p></div><h1 id="g:14">ABS extension to support write-once promises </h1><div class="top"><p class="src"><a id="v:pro_new" class="def">pro_new</a> :: <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/System-IO.html#t:IO">IO</a> (<a href="ABS-Runtime.html#t:Fut">Fut</a> a) <a href="src/ABS-Runtime-Extension-Promise.html#pro_new" class="link">Source</a> <a href="#v:pro_new" class="selflink">#</a></p><div class="doc"><p>Newly-allocated promise with empty contents </p></div></div><div class="top"><p class="src"><a id="v:pro_try" class="def">pro_try</a> :: <a href="ABS-Runtime.html#t:Fut">Fut</a> b -&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/System-IO.html#t:IO">IO</a> (<a href="ABS-StdLib.html#t:Maybe">Maybe</a> b) <a href="src/ABS-Runtime-Extension-Promise.html#pro_try" class="link">Source</a> <a href="#v:pro_try" class="selflink">#</a></p><div class="doc"><p>Try to extract the value inside the promise.</p><p>Does not block.</p></div></div><div class="top"><p class="src"><a id="v:pro_give" class="def">pro_give</a> :: <a href="ABS-Runtime.html#t:Fut">Fut</a> b -&gt; b -&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/System-IO.html#t:IO">IO</a> () <a href="src/ABS-Runtime-Extension-Promise.html#pro_give" class="link">Source</a> <a href="#v:pro_give" class="selflink">#</a></p><div class="doc"><p>Writes (once) the value to the given promise, essentially resolving it.</p><p>Will throw a <code><a href="ABS-Runtime.html#t:PromiseRewriteException">PromiseRewriteException</a></code> when to write more than once.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:PromiseRewriteException" class="def">PromiseRewriteException</a> <a href="src/ABS-Runtime-Extension-Promise.html#PromiseRewriteException" class="link">Source</a> <a href="#t:PromiseRewriteException" class="selflink">#</a></p><div class="doc"><p>Trying to write to an already-resolved promise</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:PromiseRewriteException" class="def">PromiseRewriteException</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:PromiseRewriteException" class="caption collapser" onclick="toggleSection('i:PromiseRewriteException')">Instances</p><div id="section.i:PromiseRewriteException" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:PromiseRewriteException:Show:1" class="instance expander" onclick="toggleSection('i:id:PromiseRewriteException:Show:1')"></span> <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Text-Show.html#t:Show">Show</a> <a href="ABS-Runtime.html#t:PromiseRewriteException">PromiseRewriteException</a></span> <a href="src/ABS-Runtime-Extension-Promise.html#line-40" class="link">Source</a> <a href="#t:PromiseRewriteException" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:PromiseRewriteException:Show:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Int.html#t:Int">Int</a> -&gt; <a href="ABS-Runtime.html#t:PromiseRewriteException">PromiseRewriteException</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="ABS-Runtime.html#t:PromiseRewriteException">PromiseRewriteException</a> -&gt; <a href="ABS-StdLib.html#t:String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="ABS-Runtime.html#t:PromiseRewriteException">PromiseRewriteException</a>] -&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:PromiseRewriteException:Exception:2" class="instance expander" onclick="toggleSection('i:id:PromiseRewriteException:Exception:2')"></span> <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Control-Exception-Base.html#t:Exception">Exception</a> <a href="ABS-Runtime.html#t:PromiseRewriteException">PromiseRewriteException</a></span> <a href="src/ABS-Runtime-Extension-Promise.html#line-41" class="link">Source</a> <a href="#t:PromiseRewriteException" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:PromiseRewriteException:Exception:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toException">toException</a> :: <a href="ABS-Runtime.html#t:PromiseRewriteException">PromiseRewriteException</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Control-Exception-Base.html#t:SomeException">SomeException</a> <a href="#v:toException" class="selflink">#</a></p><p class="src"><a href="#v:fromException">fromException</a> :: <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Control-Exception-Base.html#t:SomeException">SomeException</a> -&gt; <a href="ABS-StdLib.html#t:Maybe">Maybe</a> <a href="ABS-Runtime.html#t:PromiseRewriteException">PromiseRewriteException</a> <a href="#v:fromException" class="selflink">#</a></p><p class="src"><a href="#v:displayException">displayException</a> :: <a href="ABS-Runtime.html#t:PromiseRewriteException">PromiseRewriteException</a> -&gt; <a href="ABS-StdLib.html#t:String">String</a> <a href="#v:displayException" class="selflink">#</a></p></div></div></td></tr></table></div></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.17.2</p></div></body></html>